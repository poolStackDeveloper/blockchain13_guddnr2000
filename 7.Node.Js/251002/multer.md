# 기존의 데이터들의 타입? 이라고 해야할까요?

단순 텍스트 덩어리들이였어요.

그 안에서 숫자형이든...문자형이든...

- VARCHAR
- TEXT
  
근데? 실 서비스들을 보면?
특히 마이페이지
이미지

1. 우리 디스크 내부에 이미지 선택 후 업로드
2. 그리고 재요청하면? 프로필 사진 업로드
이런 요구사항이 존재함.
파일 => 이미지 pdf 압축파일 => 바이너리 데이터들을 다뤄야 합니다.

## 바이너리 데이터란?

사람이 이해할 수 있는 문자 대신에, 0과 1로 이루어진 순수한 데이터
=> 컴퓨터가 처리하는 원초적 데이터

텍스트 데이터 => hello, JSON, HTML, XML
=> 변환 => 컴퓨터가 이해할 수 있는 언어로!

이미지 또한! 엄청 긴 바이너리 데이터로 되어있다.

그래서! 그 바이너리 데이터를 DB에 직접 넣는건가요?

아닙니다. 

그 바이너리 데이터를 DB에 넣으면, 용량이 크기 때문에
사실... 현재 현업에서는 아예 안씁니다.

파일 => 파일 시스템(디스크)에 저장
그 파일의 경로나 이름만 DB에 저장

물론! 데이터 필드 타입중에 BLOB이라고 있음.
=> 바이너리 라지 오브젝트라고 부르는 타입
이걸로 이미지 자체를 저장할 수 있지만, 현재는 안씀!

결론: 이미지를 디스크에 저장하는 방법을 알아볼거임

## Content-Type 종류

HTTP 헤더의 Content-Type

이미지 업로드나 그런걸 처리하기 위한 컨텐츠 타입

multipart/form-data

파일 업로드를 포함하는 경우, 반드시 명시해야 하는 컨텐츠 타입입니다.
텍스트+바이너리 파일 데이터를 분리된 파트로 전송

바디 파서, 쿠키 파서처럼....

req.body나 req.cookies에 넣어주는 형태가 필요할 뿐더러,
Express는 기본적으로 multipart 데이터를 해석할 수 있는 능력이 없다...

-> 별도의 방식으로 처리하거나
=> 외부 미들웨어 (우리가 만들어야 함)를 도입해서 직접 파싱해야 합니다.

### fs 내장 모듈
// file system의 약자
// Node.js의 기본 내장 모듈
// 파일을 읽고, 쓰고, 수정하고 삭제할 수 있는 모든 기능이 들어있다. (기본적으로)

## stream이란?

데이터를 한 번에 전부 처리하지 않고
조각(chunk) 단위로 잘라서 순차적으로 처리하는 구조

1. 파일 내용 두 번째는 파일을 직접 건드리지 않고 코ㅡ 작성 후 파일 실행시키는 것만으로 내용 추가

`파일 내용 두 번째는 파일을 직접 건드리지 않고 코드 작성 후 파일 실행시키는 것만으로 내용 추가`라고 했다면... 변환 흐름이 어떻게 되냐...

1. 위의 글자 가져옴
2. [바이너리] bcasfkj1249...
3. [청크(조각)] 3바이트씩 나눠서 처리됨

그리고 다시 가져와서 위의 글자로 변환하는건 역순

핵심: 자르고 가져오고... 변환하고... 이러한 과정을 거치는데
=> 너무 힘들다
=> 

4. 
# 언제 발급하고 언제 검증하는가?

JWT는 값 자체도 중요하지만, 흐름 플로우도 되게 중요하다.

노드 프로젝트 시작한다!라고 했을 때

컨벤션**들**을 정해야 합니다.

1. git 전략

- 브랜치는 몇개?
- clone방식? fork방식?
- git commit 메세지 규칙
- .gitignore
- .env

2. 디렉토리 규칙
3. 유저 스토리

- 게시판 목록 페이지 구현 x
  (자세하게 적어야 한다)

=> 

- 사용자가 메인 페이지에 접근한다...
- 메인 페이지에서는 게시판 목록을 간편하게 보여주고 어쩌구...
- 게시판 메인 페이지에 접근한다
- 사용자가 특정 글을 클릭하여 게시판 상세 페이지에 접근한다
- 수정을 클릭한다....
등등 유저 스토리를 확립

4. 엑세스 토큰 검증 플로우를 확립한다.

핵심: DB를 최대한 안거치는게 맞다.

JWT 본질 => 서버의 트래픽 => 부하를 줄이기 위해서가 가장 크다.

하지만! 필요에 의해서 DB를 거쳐야 한다.

## 서버 세팅

```sh
npm init -y
npm install express jsonwebtoken dotenv
```

`.gitignore`

2. 디렉토리 규칙

### 스택별 폴더 분리

- back (백엔드): 클라이언트로부터 요청을 받아서 처리하고, JSON 데이터 응답하는 역할
- front (프론트): 화면에 필요한 정적(HTML/CSS/JS)를 구성하고 서버로부터 데이터를 받아서 사용자에게 보여주는 역할

왜 이런 구조를 택할까?

간단합니다 => 직무를 나누어서 협업 관계를 형성

그리고 이러한 폴더 분리를 통해서 => 프론트엔드 프레임워크인 React를 front 폴더 안에
설치하고 경험해볼겁니다.

잠깐 설명하면

**나는 사용자에게 화면을 보여주는게 일임. 데이터만 잘 보내주셈!**

```js
require("dotenv").config();
const port = process.env.PORT;
```
AJAX를 이해하려면?

- 상태의 비연결성을 이해하기 위한 배경과 역사를 충분히 인지해야한다.
- 하나의 요청, 하나의 응답 이 절차를 왜 가지가 되었지?
- 이해했다면 => 서버는 클라이언트의 상태를 기억하지 못한다. => 이해할 수 있다.
- 그래서.... 쿠키도 마찬가지로, 서버는 사용자의 상태를 기억을 못하니, 내가 특정 부분에서
서버에게 나를 알리려면? => 저장할 수 있는 구조 => 브라우저에 쿠키를 저장하자.

핵심: 상태의 비연결성을 이해하기 위한 배경과 역사를 충분히 인지해야한다.

# AJAX란?

클라이언트와 서버의 역할 분리하여 필요한 순간에 요청을 보냄

강아진 사진!

나는! 강아지 사진 페이지 처음에 요청함.
그 이후에는 강아지 사진만 렌더링 하고 싶음!

근데? 이전에 우리가 했던 모든것들은(AJAX 코드 다 빼고)전부, 필요할 때마다
`페이지!!`를 요청했음.

옛날에는 이런 구조였고, 인터넷도 느려서.... 불만이 많았음.

그렇다면, 클라이언트와 서버의 역할 분리하여 필요한 순간에 요청을 보내자!
그리고? 서버의 데이터에 따라서 나(클라이언트)는 그 부분만 변경하자!

**웹의 발전은 AJAX 이전과 이후로 나뉜다!!!!**

사용자 관점에서 불만: 내가 뭘 요청했는데 페이지가 깜빡인다.
이거 불편함

깜빡이는 이유 => AJAX이전에는? 내가 원하는 부분만 원해도? 페이지를 다시 요청해야 했음.

AJAX: **A**synchronous **J**avaScript **A**nd **X**ML
    - **Asynchronous** 비동기, 즉 요청을 보내놓고 결과가 올 때까지 기다리며 화면이 멈추지 않는다는 의미입니다.
    - **Javascript**: 클라이언트(브라우저)에서 이 요청을 다루는 언어가 자바스크립트였기 때문에 붙은 이름입니다.
    - **XML**: 원래는 서버와 데이터를 주고받을 때 XML을 썼습니다.
  
  하지만, 지금은 시대가 바뀌어서, 데이터 교환의 표준은 사실상 **JSON**dla!

  쉽게: AJAX는 **자바스크립트를 이용해 서버에 비동기적으로 요청을 보내고, JSON 응답을 받아서 화면 일부를 갱신하는 방법**

  ## AJAX 구현의 점진적 발전

  하루아침에 fetch가 뚜둥하고 나온게 아니다.
  역사적으로 되게 많은 함수는 class 즉, 추상적인 무언가가 나왔겠지만
  대표적으로 말하자면

  XMLHttpRequest => fetch => axios(외장 모듈)
  
  어제? 쿠키나갔을 때는 DB나 기타 등등은 전부 제외했는데

  오늘은 좀... 작성해야 할 것 같음.

## 쿠키 파서 외부 라이브러리 다운받을거임!

어제는 쿠키 파서의 내부 동작 원리를 알기 위해서 직접 구현해봄.

근데? 좀 더 편하게 사용하는 라이브러리가 있음

```sh
npm install cookie-parser
npm install nunjucks mysql2
```

## 서버 세팅부터 해보자

